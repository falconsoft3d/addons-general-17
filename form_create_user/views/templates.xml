<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Template del formulario de registro -->
    <template id="user_register_form_template" name="Formulario de Registro de Usuario">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure oe_empty">
                <section class="s_text_block pt-5 pb-5" style="background-color: #f8f9fa;">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="card shadow-sm">
                                    <div class="card-body p-5">
                                        <h1 class="text-center mb-1" style="font-size: 2rem; font-weight: 600;">Formulario de contacto</h1>
                                        <div class="text-center mb-4">
                                            <hr style="width: 80px; height: 3px; background-color: #007bff; margin: 15px auto; border: none;"/>
                                        </div>
                                        <!-- Enlace para usuarios existentes -->
                                        <div class="text-center mb-3">
                                            <p class="text-muted">
                                                ¿Ya tienes una cuenta? 
                                                <a href="/web/login" class="text-primary fw-bold">Inicia sesión aquí</a>
                                            </p>
                                        </div>
                                        
                                        <form action="/submit" method="POST" class="mt-4">
                                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                            
                                            <!-- Nombre y Apellido -->
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <input type="text" 
                                                           name="name" 
                                                           class="form-control" 
                                                           placeholder="Nombre" 
                                                           required="required"
                                                           style="border: 1px solid #ddd; padding: 12px; border-radius: 4px;"/>
                                                </div>
                                                <div class="col-md-6">
                                                    <input type="text" 
                                                           name="lastname" 
                                                           class="form-control" 
                                                           placeholder="Apellido" 
                                                           required="required"
                                                           style="border: 1px solid #ddd; padding: 12px; border-radius: 4px;"/>
                                                </div>
                                            </div>

                                            <!-- Correo Electrónico -->
                                            <div class="mb-3">
                                                <input type="email" 
                                                       name="email" 
                                                       class="form-control" 
                                                       placeholder="Correo Electrónico" 
                                                       required="required"
                                                       style="border: 1px solid #ddd; padding: 12px; border-radius: 4px;"/>
                                            </div>

                                            <!-- Teléfono -->
                                            <div class="mb-3">
                                                <input type="tel" 
                                                       name="phone" 
                                                       class="form-control" 
                                                       placeholder="Teléfono"
                                                       style="border: 1px solid #ddd; padding: 12px; border-radius: 4px;"/>
                                            </div>

                                            <!-- Empresa y Cargo -->
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <input type="text" 
                                                           name="company" 
                                                           class="form-control" 
                                                           placeholder="Empresa"
                                                           style="border: 1px solid #ddd; padding: 12px; border-radius: 4px;"/>
                                                </div>
                                                <div class="col-md-6">
                                                    <input type="text" 
                                                           name="position" 
                                                           class="form-control" 
                                                           placeholder="Cargo"
                                                           style="border: 1px solid #ddd; padding: 12px; border-radius: 4px;"/>
                                                </div>
                                            </div>

                                            <!-- Mensaje -->
                                            <div class="mb-4">
                                                <textarea name="message" 
                                                          class="form-control" 
                                                          rows="5" 
                                                          placeholder="Mensaje"
                                                          style="border: 1px solid #ddd; padding: 12px; border-radius: 4px; resize: vertical;"></textarea>
                                            </div>

                                            <!-- Botón Enviar -->
                                            <div class="text-center">
                                                <button type="submit" 
                                                        class="btn btn-primary btn-lg px-5"
                                                        style="background-color: #4285f4; border: none; border-radius: 4px; padding: 12px 48px; font-weight: 500;">
                                                    ENVIAR
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </t>
    </template>

    <!-- Template de éxito - Mostrar credenciales -->
    <template id="user_register_success_template" name="Registro Exitoso">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure">
                <section class="s_text_block pt-5 pb-5" style="background-color: #f8f9fa;">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="card shadow-sm">
                                    <div class="card-body p-5 text-center">
                                        <div class="mb-4">
                                            <i class="fa fa-check-circle text-success" style="font-size: 4rem;"></i>
                                        </div>
                                        <h1 class="mb-4" style="color: #28a745;">¡Registro Exitoso!</h1>
                                        <p class="lead mb-4">Su usuario ha sido creado correctamente. A continuación encontrará sus credenciales de acceso:</p>
                                        
                                        <div class="alert alert-info mb-4 p-4" style="background-color: #e3f2fd; border: 1px solid #90caf9;">
                                            <div class="mb-3">
                                                <strong style="font-size: 1.1rem;">Nombre de Usuario:</strong>
                                                <p class="mb-0 mt-2" style="font-size: 1.2rem; font-family: monospace; color: #1976d2;">
                                                    <t t-esc="user_name"/>
                                                </p>
                                            </div>
                                            <div class="mb-3">
                                                <strong style="font-size: 1.1rem;">Email de Acceso:</strong>
                                                <p class="mb-0 mt-2" style="font-size: 1.2rem; font-family: monospace; color: #1976d2;">
                                                    <t t-esc="login"/>
                                                </p>
                                            </div>
                                            <div>
                                                <strong style="font-size: 1.1rem;">Contraseña:</strong>
                                                <p class="mb-0 mt-2" style="font-size: 1.2rem; font-family: monospace; color: #d32f2f; font-weight: bold;">
                                                    <t t-esc="password"/>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="alert alert-warning mb-4">
                                            <i class="fa fa-exclamation-triangle"></i>
                                            <strong>Importante:</strong> Guarde estas credenciales en un lugar seguro. Se recomienda cambiar su contraseña después del primer inicio de sesión.
                                        </div>

                                        <p class="mb-4">También hemos creado una oportunidad en nuestro sistema CRM con sus datos para darle seguimiento.</p>

                                        <div class="mt-4">
                                            <a href="/web/login" class="btn btn-primary btn-lg px-5 me-3">
                                                <i class="fa fa-sign-in"></i> Iniciar Sesión
                                            </a>
                                            <a href="/" class="btn btn-outline-secondary btn-lg px-5">
                                                <i class="fa fa-home"></i> Ir al Inicio
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </t>
    </template>

    <!-- Template de error -->
    <template id="user_register_error_template" name="Error en Registro">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure">
                <section class="s_text_block pt-5 pb-5" style="background-color: #f8f9fa;">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="card shadow-sm">
                                    <div class="card-body p-5 text-center">
                                        <div class="mb-4">
                                            <i class="fa fa-exclamation-circle text-danger" style="font-size: 4rem;"></i>
                                        </div>
                                        <h1 class="mb-4" style="color: #dc3545;">Error en el Registro</h1>
                                        <div class="alert alert-danger mb-4">
                                            <p class="mb-0" style="font-size: 1.1rem;">
                                                <t t-esc="error_message"/>
                                            </p>
                                        </div>
                                        <div class="mt-4">
                                            <a href="/" class="btn btn-primary btn-lg px-5">
                                                <i class="fa fa-arrow-left"></i> Volver al Formulario
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </t>
    </template>

</odoo>
